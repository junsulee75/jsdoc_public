(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{176:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/new_empty_github-6d6d3a502220effe7842bbf3e2d3f471.png"},177:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/1st_docusaurus_page-bd99376e7c9de3d4a78f6a2b4055a575.png"},178:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/search_plugin-fdf5b6dbf55e37bbfa226e32678ac42f.png"},179:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/deployed_page-94d14d7c86e7b58d0e81172926c5bc77.png"},85:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return l}));var a=n(3),o=n(7),r=(n(0),n(109)),s={id:"docusaurus",title:"Setting up Docusaurus",sidebar_label:"Dacusaurus"},i={unversionedId:"docusaurus",id:"docusaurus",isDocsHomePage:!1,title:"Setting up Docusaurus",description:"I was hoping to settle in a document framework that satisfies my requirments.",source:"@site/docs/docusaurus.md",slug:"/docusaurus",permalink:"/jsdoc_public/docs/docusaurus",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/docusaurus.md",version:"current",sidebar_label:"Dacusaurus",sidebar:"someSidebar",previous:{title:"MANAGING CONTAINER and KUBERNETES CLUSTER WITH IBM CLOUD",permalink:"/jsdoc_public/docs/"},next:{title:"Style Guide",permalink:"/jsdoc_public/docs/doc1"}},c=[{value:"Create new Github repository",id:"create-new-github-repository",children:[]},{value:"Install yarn",id:"install-yarn",children:[]},{value:"Initialize Docusauraus",id:"initialize-docusauraus",children:[]},{value:"Start Docusaurus and test default pages.",id:"start-docusaurus-and-test-default-pages",children:[]},{value:"Install search plug-in",id:"install-search-plug-in",children:[]},{value:"Deply to github",id:"deply-to-github",children:[{value:"Configure docusaurus",id:"configure-docusaurus",children:[]},{value:"Git configuration",id:"git-configuration",children:[]},{value:"Git deploy",id:"git-deploy",children:[]}]},{value:"Visit deployed page",id:"visit-deployed-page",children:[]}],u={toc:c};function l(e){var t=e.components,s=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},u,s,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"I was hoping to settle in a document framework that satisfies my requirments.",Object(r.b)("br",{parentName:"p"}),"\n","While I am still keeping looking, ",Object(r.b)("inlineCode",{parentName:"p"},"Docusaurus")," is the one I found as good as documenting my personal notes.     "),Object(r.b)("p",null,"The main purpose of this page is tidying up my dirty notes to refer myself in the near future.",Object(r.b)("br",{parentName:"p"}),"\n","You came to right place if you are looking for free search framework that works with ",Object(r.b)("inlineCode",{parentName:"p"},"Docusaurus"),".",Object(r.b)("br",{parentName:"p"}),"\n","I tried some plug-ins from goole search and managed to find one working while others.",Object(r.b)("br",{parentName:"p"}),"\n",Object(r.b)("inlineCode",{parentName:"p"},"Docusaurus")," suggests a 3rd party plug-in service but I don't like it as I wanted to keep it fully within my framework git repository",Object(r.b)("br",{parentName:"p"}),"\n","without the dependency such as REST API like search engine.      "),Object(r.b)("p",null,"Here are steps that work as of now.    "),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Reference doc link :",Object(r.b)("br",{parentName:"li"}),Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://v2.docusaurus.io/docs/installation/"}),"Docusaurus V2"))),Object(r.b)("h2",{id:"create-new-github-repository"},"Create new Github repository"),Object(r.b)("p",null,"Create an empty git repository in advance.     "),Object(r.b)("p",null,Object(r.b)("img",{alt:"alt text",src:n(176).default,title:"New empty github repository"})),Object(r.b)("h2",{id:"install-yarn"},"Install yarn"),Object(r.b)("p",null,"This is optional according to Docusaurus manual. However, I strongly recommend to install.",Object(r.b)("br",{parentName:"p"}),"\n","No harm and easier to maintain the framework.          "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"brew install yarn\n")),Object(r.b)("h2",{id:"initialize-docusauraus"},"Initialize Docusauraus"),Object(r.b)("p",null,"Go to a path where you want to create and run the command.",Object(r.b)("br",{parentName:"p"}),"\n","I put the name corresponding to the github repository name that I am going to sync with.         "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"jsmacpro15touch:github kr050496$ npx @docusaurus/init@latest init jsdoc_public classic\n...\n\nSuccess! Created jsdoc_public\nInside that directory, you can run several commands:\n\n  yarn start\n    Starts the development server.\n\n  yarn build\n    Bundles the app into static files for production.\n\n  yarn deploy\n    Publish website to GitHub pages.\n\nWe suggest that you begin by typing:\n\n  cd jsdoc_public\n  yarn start\n")),Object(r.b)("h2",{id:"start-docusaurus-and-test-default-pages"},"Start Docusaurus and test default pages."),Object(r.b)("p",null,"Go to the created directory and check the version.   "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"jsmacpro15touch:github kr050496$ cd jsdoc_public\njsmacpro15touch:jsdoc_public kr050496$ npx docusaurus --version\n2.0.0-alpha.70\n")),Object(r.b)("p",null,"Start Docusaurus.  "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"jsmacpro15touch:jsdoc_public kr050496$ yarn start\nyarn run v1.22.10\n$ docusaurus start\nStarting the development server...\nDocusaurus website is running at: http://localhost:3000/\n\n\u2714 Client\n  Compiled successfully in 20.80s\n\n\u2139 \uff62wds\uff63: Project is running at http://localhost:3000/\n\u2139 \uff62wds\uff63: webpack output is served from /\n\u2139 \uff62wds\uff63: Content not from webpack is served from /Users/kr050496/bin/github/jsdoc_public\n\u2139 \uff62wds\uff63: 404s will fallback to /index.html\n\n\u2714 Client\n  Compiled successfully in 123.95ms\n")),Object(r.b)("p",null,"It will open the page from a default web browser automatically.",Object(r.b)("br",{parentName:"p"}),"\n","To visit manually, use the link ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"http://localhost:3000"}),"http://localhost:3000")," .   "),Object(r.b)("p",null,Object(r.b)("img",{alt:"alt text",src:n(177).default,title:"1st docusaurus page"})),Object(r.b)("h2",{id:"install-search-plug-in"},"Install search plug-in"),Object(r.b)("p",null,"As I mentioned earlier, I have tried multiple plug-ins and managed to find one working fine.",Object(r.b)("br",{parentName:"p"}),"\n","Here is the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/easyops-cn/docusaurus-search-local"}),"github page"),".",Object(r.b)("br",{parentName:"p"}),"\n","At least, it was good enough to me.",Object(r.b)("br",{parentName:"p"}),"\n","Hopefully, it does not go away when you refer this page.     "),Object(r.b)("p",null,"Run the following command to install.",Object(r.b)("br",{parentName:"p"}),"\n","NOTE : Make sure you use Node.JS version higher than version 12 in the termninal.",Object(r.b)("br",{parentName:"p"}),"\n","If the version is lower than that, it would get errors.     "),Object(r.b)("p",null,"For example, when my node.JS version is lower than 12, it will complain node.JS version.     "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'\njsmacpro15touch:jsdoc_public kr050496 $ node -v\nv10.15.3\n\n\njsmacpro15touch:jsdoc_public kr050496$ yarn add @easyops-cn/docusaurus-search-local\nyarn add v1.22.10\n[1/4] \ud83d\udd0d  Resolving packages...\n[2/4] \ud83d\ude9a  Fetching packages...\nerror @easyops-cn/docusaurus-search-local@0.14.2: The engine "node" is incompatible with this module. Expected version ">=12". Got "10.15.3"\nerror Found incompatible module.\ninfo Visit https://yarnpkg.com/en/docs/cli/add for documentation about this command.\n')),Object(r.b)("p",null,"So I install the latest one to bypass the error.     "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"jsmacpro15touch:~ kr050496$ npm install -g n\n/Users/kr050496/Node.js/bin/n -> /Users/kr050496/Node.js/lib/node_modules/n/bin/n\n+ n@6.8.0\n\njsmacpro15touch:~ kr050496$ sudo n 12.18.3\nPassword:\n\n  installing : node-v12.18.3\n       mkdir : /usr/local/n/versions/node/12.18.3\n       fetch : https://nodejs.org/dist/v12.18.3/node-v12.18.3-darwin-x64.tar.xz\n   installed : v12.18.3 to /usr/local/bin/node\n      active : v10.15.3 at /Users/kr050496/Node.js/bin/node\n\njsmacpro15touch:~ kr050496$ node -v\nv10.15.3\njsmacpro15touch:~ kr050496$ /usr/local/bin/node -v\nv12.18.3\njsmacpro15touch:~ kr050496$ export PATH=/usr/local/bin:$PATH\njsmacpro15touch:jsdoc_public kr050496$ yarn add @easyops-cn/docusaurus-search-local\n")),Object(r.b)("p",null,"Then it would be success.",Object(r.b)("br",{parentName:"p"}),"\n","I recommend to put the new node.JS version to the user profile permanently.    "),Object(r.b)("p",null,"Then add the following lines to the file ",Object(r.b)("inlineCode",{parentName:"p"},"docusaurus.config.js"),".   "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'jsmacpro15touch:jsdoc_public kr050496$ cat docusaurus.config.js\n..\n  plugins: [\n    [\n      require.resolve("@easyops-cn/docusaurus-search-local"),\n      {\n        hashed: true,\n      },\n    ],\n  ],\n};\n')),Object(r.b)("p",null,"Build.    "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"yarn build\n")),Object(r.b)("p",null,"NOTE :\n",Object(r.b)("inlineCode",{parentName:"p"},"yarn start")," command will not build indexes for search.",Object(r.b)("br",{parentName:"p"}),"\n",Object(r.b)("inlineCode",{parentName:"p"},"npm run serve")," command will build indexes.       "),Object(r.b)("p",null,"When running the test page again, it will show search box.",Object(r.b)("br",{parentName:"p"}),"\n",Object(r.b)("img",{alt:"alt text",src:n(178).default,title:"search plugin"})),Object(r.b)("h2",{id:"deply-to-github"},"Deply to github"),Object(r.b)("h3",{id:"configure-docusaurus"},"Configure docusaurus"),Object(r.b)("p",null,"Change the docusarus configuration accordingly.    "),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Example for my public github repository       ")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"jsmacpro15touch:jsdoc_public kr050496$ cat docusaurus.config.js\nmodule.exports = {\n  title: 'Jun Su\\'s notes (Public)',\n  tagline: 'My personal notes to share to public.',\n  url: 'https://junsulee75.github.io',\n  baseUrl: '/jsdoc_public',  \n  onBrokenLinks: 'throw',\n  onBrokenMarkdownLinks: 'warn',\n  favicon: 'img/favicon.ico',\n  organizationName: 'junsulee75', // Usually your GitHub org/user name.\n  projectName: 'jsdoc_public', // Usually your repo name.\n  themeConfig: {\n    navbar: {\n..\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Example for my internal IBM github repository pattern.     ")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"module.exports = {\n  title: 'Jun Su\\'s technical notes (Internal)',\n  tagline: 'My personal note to share or present occasionally.',\n  url: 'https://pages.github.ibm.com',\n  //baseUrl: '/junsulee/jsdoc_internal/',   // This failed before but now this works (2021-01-28), But this does not work for local mode test\n  baseUrl: '/',   // This worked somehow ? Full URL : https://pages.github.ibm.com/junsulee/jsdoc_internal/ , not working (2021-01-28) , working for local test\n  onBrokenLinks: 'throw',\n  onBrokenMarkdownLinks: 'warn',\n  favicon: 'img/favicon.ico',\n  organizationName: 'junsulee', // Usually your GitHub org/user name.\n  projectName: 'jsdoc_internal', // Usually your repo name.\n")),Object(r.b)("h3",{id:"git-configuration"},"Git configuration"),Object(r.b)("p",null,"Link the Docusaurus working directory to the github repository.     "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'jsmacpro15touch:jsdoc_public kr050496$ echo "# jsdoc_public" >> README.md\njsmacpro15touch:jsdoc_public kr050496$ git init\njsmacpro15touch:jsdoc_public kr050496$ git remote -v\njsmacpro15touch:jsdoc_public kr050496$ git remote add origin git@github.com:junsulee75/jsdoc_public.git\njsmacpro15touch:jsdoc_public kr050496$ git remote -v\norigin    git@github.com:junsulee75/jsdoc_public.git (fetch)\norigin    git@github.com:junsulee75/jsdoc_public.git (push)\n')),Object(r.b)("h3",{id:"git-deploy"},"Git deploy"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Example for my public github repository    ")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"jsmacpro15touch:jsdoc_public kr050496$ GIT_USER=junsulee75 yarn deploy\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Example for my internal IBM github repository pattern.   ")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),"$ GITHUB_HOST=github.ibm.com GIT_USER=junsulee yarn deploy\n")),Object(r.b)("h2",{id:"visit-deployed-page"},"Visit deployed page"),Object(r.b)("p",null,Object(r.b)("img",{alt:"alt text",src:n(179).default,title:"deployed page"})))}l.isMDXComponent=!0}}]);